<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>恋爱相处模式测试</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Microsoft Yahei', sans-serif;
        }
        body {
            background-color: #fdfbfa; /* 柔和浅灰粉背景 */
            min-height: 100vh;
            padding: 20px 15px;
            color: #5a4b51; /* 柔和深粉棕文字 */
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(222, 197, 209, 0.2); /* 浅粉阴影 */
            padding: 30px 20px;
            position: relative;
        }

        /* 首页样式 */
        #homepage {
            text-align: center;
            padding: 30px 10px;
        }
        .home-title {
            font-size: 28px;
            color: #b87fa0; /* 淡紫粉色标题 */
            margin-bottom: 20px;
            line-height: 1.4;
        }
        .home-desc {
            text-align: left;
            font-size: 15px;
            line-height: 1.7;
            margin-bottom: 30px;
            color: #6d5a64;
            padding: 0 10px;
        }
        .home-desc li {
            margin-bottom: 12px;
            position: relative;
            padding-left: 20px;
        }
        .home-desc li:before {
            content: "•";
            color: #d8a8c9; /* 浅粉点 */
            position: absolute;
            left: 5px;
        }
        .start-btn {
            background: #e8c3d9; /* 柔和浅粉按钮 */
            color: #7d596c;
            border: none;
            border-radius: 30px;
            padding: 15px 40px;
            font-size: 17px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 10px;
            width: 80%;
            max-width: 300px;
        }
        .start-btn:hover {
            background: #d8a8c9; /* 深一点的粉 */
            transform: translateY(-2px);
        }

        /* 题目区域样式 */
        .progress {
            text-align: center;
            margin-bottom: 25px;
            font-size: 14px;
            color: #9b8792;
            display: none;
        }
        .question-card {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        .question-card.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .question-text {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #f5eef2; /* 浅粉线 */
            color: #6d5a64;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 30px;
        }
        .option {
            padding: 16px 15px;
            background: #fcf9fb; /* 极浅粉背景 */
            border: 2px solid #f0e3e9; /* 浅粉边框 */
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 15px;
        }
        .option:hover {
            border-color: #e8c3d9;
            background: #faf0f5;
        }
        .option.selected {
            border-color: #d8a8c9;
            background: #f8e6ef;
            color: #8c5f7a;
            font-weight: 500;
        }
        .option input {
            display: none;
        }
        .btn-group {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            display: none;
        }
        .btn {
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        .prev-btn {
            background: #f5eef2;
            color: #9b8792;
        }
        .prev-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .next-btn {
            background: #e8c3d9;
            color: #7d596c;
        }
        .next-btn:disabled {
            background: #f0e3e9;
            cursor: not-allowed;
        }

        /* 结果区域样式 */
        #result-section {
            display: none;
            text-align: center;
            padding: 20px 0;
        }
        .result-title {
            font-size: 24px;
            color: #b87fa0;
            margin-bottom: 15px;
        }
        .result-tag {
            display: inline-block;
            padding: 8px 20px;
            background: #f8e6ef;
            color: #8c5f7a;
            border-radius: 20px;
            font-size: 15px;
            margin-bottom: 20px;
        }
        .result-content {
            text-align: left;
            line-height: 1.8;
            font-size: 15px;
            padding: 15px;
            background: #fcf9fb;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 1px solid #f5eef2;
        }
        .restart-btn {
            background: #e8c3d9;
            color: #7d596c;
            width: 100%;
            padding: 14px;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
        }
        .restart-btn:hover {
            background: #d8a8c9;
        }
        .compliance-note {
            font-size: 12px;
            color: #b09ca6;
            text-align: center;
            margin-top: 30px;
            line-height: 1.5;
        }

        /* 手机适配 */
        @media (max-width: 480px) {
            .container {
                padding: 20px 15px;
                border-radius: 16px;
            }
            .home-title {
                font-size: 24px;
            }
            .home-desc {
                font-size: 14px;
            }
            .question-text {
                font-size: 17px;
                margin-bottom: 20px;
            }
            .option {
                padding: 14px 12px;
                font-size: 14px;
            }
            .btn {
                padding: 11px 20px;
                font-size: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 首页 -->
        <div id="homepage">
            <h1 class="home-title">恋爱相处模式<br>趣味测试</h1>
            <ul class="home-desc">
                <li>15道日常场景题，探索你与伴侣的独特相处模式</li>
                <li>无对错之分，每个选项都代表不同的互动风格</li>
                <li>完成测试后，将生成专属于你的相处模式解析</li>
            </ul>
            <button class="start-btn" id="start-btn">开始测试</button>
            <p class="compliance-note">本测试为趣味探索，仅供参考<br>适合彼此的模式就是最好的模式</p>
        </div>

        <!-- 题目区域 -->
        <div class="progress">
            <span id="current-question">第1题</span> / 共15题
        </div>
        <div id="questions-container"></div>

        <!-- 按钮组 -->
        <div class="btn-group">
            <button class="btn prev-btn" id="prev-btn" disabled>上一题</button>
            <button class="btn next-btn" id="next-btn" disabled>下一题</button>
        </div>

        <!-- 结果区域 -->
        <div id="result-section">
            <h2 class="result-title">你的恋爱相处模式</h2>
            <div class="result-tag" id="result-tag"></div>
            <div class="result-content" id="result-content"></div>
            <button class="restart-btn" id="restart-btn">重新测试</button>
        </div>
    </div>

    <script>
        // 15道题（每个选项对应唯一相处模式维度）
        const questions = [
            {
                id: 1,
                text: "约会时对方临时说想改变计划，你的反应是？",
                options: [
                    { text: "有点失落但会配合：“那听你的吧”", scores: { accommodate: 5 } }, // 迁就型
                    { text: "好奇原因：“是有什么新想法吗？我们聊聊”", scores: { communication: 5 } }, // 沟通型
                    { text: "主动提议折中方案：“那我们这样安排如何？”", scores: { coordination: 5 } }, // 协调型
                    { text: "觉得很新鲜：“太好了！我正想换个玩法”", scores: { flexible: 5 } } // 灵活型
                ]
            },
            {
                id: 2,
                text: "对方工作不顺心向你抱怨，你会？",
                options: [
                    { text: "默默听着，递上一杯热饮", scores: { supportive: 5 } }, // 支持型
                    { text: "帮TA分析问题，给出具体建议", scores: { solution: 5 } }, // 解决型
                    { text: "转移注意力：“别想了，带你去吃好吃的”", scores: { diverting: 5 } }, // 疏导型
                    { text: "共情吐槽：“这也太过分了！”", scores: { empathic: 5 } } // 共情型
                ]
            },
            {
                id: 3,
                text: "你们对一部电影的评价完全相反，你会？",
                options: [
                    { text: "尊重差异：“你这么想也有道理”", scores: { respectful: 5 } }, // 尊重型
                    { text: "深入讨论：“我觉得这里的细节其实是这样的...”", scores: { debating: 5 } }, // 探讨型
                    { text: "求同存异：“虽然看法不同，但一起看还是很开心”", scores: { harmonious: 5 } }, // 和谐型
                    { text: "觉得有趣：“居然能吵起来，我们也太可爱了”", scores: { playful: 5 } } // 趣味型
                ]
            },
            {
                id: 4,
                text: "对方忘记了你们的重要纪念日，你会？",
                options: [
                    { text: "假装不在意，等TA自己发现", scores: { tolerant: 5 } }, // 宽容型
                    { text: "直接提醒：“今天是我们的纪念日哦”", scores: { straightforward: 5 } }, // 直接型
                    { text: "暗示提醒：“还记得去年今天我们在做什么吗？”", scores: { hinting: 5 } }, // 暗示型
                    { text: "主动创造仪式感：“我准备了小惊喜，快来看看”", scores: { initiative: 5 } } // 主动型
                ]
            },
            {
                id: 5,
                text: "一起旅行时，你更倾向于？",
                options: [
                    { text: "完全按计划走，不喜欢变动", scores: { planned: 5 } }, // 规划型
                    { text: "随性发挥，走到哪玩到哪", scores: { casual: 5 } }, // 随性型
                    { text: "大致有方向，细节灵活调整", scores: { balanced: 5 } }, // 平衡型
                    { text: "听对方安排，自己跟着就行", scores: { following: 5 } } // 跟随型
                ]
            },
            {
                id: 6,
                text: "对方想让你陪TA做一件你不感兴趣的事，你会？",
                options: [
                    { text: "勉强答应，全程配合", scores: { compromising: 5 } }, // 妥协型
                    { text: "坦诚沟通：“我不太喜欢，但可以陪你一会儿”", scores: { honest: 5 } }, // 坦诚型
                    { text: "提出交换：“我陪你去，下次你陪我去看展览好吗？”", scores: { exchanging: 5 } }, // 交换型
                    { text: "尝试投入：“说不定我会爱上呢？”", scores: { trying: 5 } } // 尝试型
                ]
            },
            {
                id: 7,
                text: "吵架后，你通常会？",
                options: [
                    { text: "先冷静，等双方平复后再谈", scores: { calm: 5 } }, // 冷静型
                    { text: "主动道歉，不想冷战", scores: { reconciling: 5 } }, // 和解型
                    { text: "等对方先低头，再顺势台阶下", scores: { reserved: 5 } }, // 内敛型
                    { text: "当场说清，不把矛盾留到第二天", scores: { resolving: 5 } } // 解决型
                ]
            },
            {
                id: 8,
                text: "对方在你面前表现出幼稚的一面，你会？",
                options: [
                    { text: "觉得可爱，配合TA一起幼稚", scores: { matching: 5 } }, // 配合型
                    { text: "温柔包容：“你这样还挺可爱的”", scores: { accepting: 5 } }, // 接纳型
                    { text: "适当引导：“我们来做点更有意思的事吧”", scores: { guiding: 5 } }, // 引导型
                    { text: "觉得有趣，故意逗TA玩", scores: { teasing: 5 } } // 逗趣型
                ]
            },
            {
                id: 9,
                text: "你更希望对方如何表达关心？",
                options: [
                    { text: "用行动证明，比如默默做好事", scores: { action: 5 } }, // 行动型
                    { text: "用语言表达，经常说情话", scores: { verbal: 5 } }, // 言语型
                    { text: "记住细节，比如我爱吃的东西", scores: { detailed: 5 } }, // 细节型
                    { text: "在需要时出现，平时给空间", scores: { timely: 5 } } // 适时型
                ]
            },
            {
                id: 10,
                text: "和对方朋友聚会时，你会？",
                options: [
                    { text: "主动融入，积极参与话题", scores: { sociable: 5 } }, // 社交型
                    { text: "安静陪伴，不强行表现", scores: { accompanying: 5 } }, // 陪伴型
                    { text: "配合对方，跟着TA的节奏走", scores: { cooperating: 5 } }, // 协作型
                    { text: "展现真实的自己，不刻意讨好", scores: { authentic: 5 } } // 真实型
                ]
            },
            {
                id: 11,
                text: "对方送了你不喜欢的礼物，你会？",
                options: [
                    { text: "先感谢，之后再委婉说喜好", scores: { grateful: 5 } }, // 感恩型
                    { text: "直接说：“其实我更喜欢另一种”", scores: { direct: 5 } }, // 直接型
                    { text: "假装喜欢，不想让TA失望", scores: { considerate: 5 } }, // 体贴型
                    { text: "开玩笑说：“下次可以先问我哦”", scores: { humorous: 5 } } // 幽默型
                ]
            },
            {
                id: 12,
                text: "你更倾向于如何分配共同开销？",
                options: [
                    { text: "AA制，算得清清楚楚", scores: { fair: 5 } }, // 公平型
                    { text: "轮流付钱，不计较细节", scores: { alternating: 5 } }, // 交替型
                    { text: "谁有钱谁多付点，灵活处理", scores: { flexible: 5 } }, // 灵活型
                    { text: "男生/收入高的多承担", scores: { traditional: 5 } } // 传统型
                ]
            },
            {
                id: 13,
                text: "当你需要独处时，会如何告诉对方？",
                options: [
                    { text: "直接说明：“我想一个人待会儿”", scores: { straightforward: 5 } }, // 直率型
                    { text: "委婉表达：“我今天有点累，想休息下”", scores: { euphemistic: 5 } }, // 委婉型
                    { text: "事后解释：“抱歉刚才有点冷淡，我需要调整下”", scores: { explanatory: 5 } }, // 解释型
                    { text: "用行动示意，比如安静看书", scores: { behavioral: 5 } } // 行为型
                ]
            },
            {
                id: 14,
                text: "你们产生消费观念分歧时，你会？",
                options: [
                    { text: "尊重对方的选择，不强行干涉", scores: { respecting: 5 } }, // 尊重型
                    { text: "分析利弊，试图说服对方", scores: { persuasive: 5 } }, // 说服型
                    { text: "各让一步，找到中间方案", scores: { compromising: 5 } }, // 折中型
                    { text: "暂时搁置，不纠结小事", scores: { lenient: 5 } } // 宽容型
                ]
            },
            {
                id: 15,
                text: "你认为维持感情最重要的是？",
                options: [
                    { text: "互相包容，接纳对方的不完美", scores: { tolerant: 5 } }, // 包容型
                    { text: "有效沟通，及时解决问题", scores: { communicative: 5 } }, // 沟通型
                    { text: "共同成长，一起变成更好的人", scores: { growing: 5 } }, // 成长型
                    { text: "保持新鲜感，不断创造惊喜", scores: { innovative: 5 } } // 创新型
                ]
            }
        ];

        // 相处模式结果配置（8种核心模式）
        const resultTypes = [
            {
                type: "默契包容型",
                desc: "<strong>你的相处哲学：</strong>以包容为底色，尊重彼此差异，很少正面冲突。你擅长捕捉对方的情绪，总能用温和的方式化解矛盾。<br><br><strong>适配模式：</strong>适合同样重视稳定、懂得感恩的伴侣，你们的感情会在细水长流中愈发深厚。"
            },
            {
                type: "坦诚沟通型",
                desc: "<strong>你的相处哲学：</strong>不回避问题，习惯用直接沟通解决分歧。你认为“说开了”比互相猜测更重要，感情里不喜欢藏着掖着。<br><br><strong>适配模式：</strong>适合同样直率、不玻璃心的伴侣，你们的感情会在清晰的边界感中保持活力。"
            },
            {
                type: "灵活应变型",
                desc: "<strong>你的相处哲学：</strong>不墨守成规，擅长在变化中找到平衡。你能快速适应对方的节奏，也懂得适时表达自己的需求。<br><br><strong>适配模式：</strong>适合喜欢新鲜感、不固执的伴侣，你们的感情会在共同探索中充满惊喜。"
            },
            {
                type: "支持陪伴型",
                desc: "<strong>你的相处哲学：</strong>以行动代替语言，默默成为对方的后盾。你不擅长华丽的表达，但总能在关键时刻提供最需要的支持。<br><br><strong>适配模式：</strong>适合细腻敏感、懂得观察的伴侣，你们的感情会在无声的默契中逐渐升温。"
            },
            {
                type: "平衡协调型",
                desc: "<strong>你的相处哲学：</strong>擅长在自我与对方之间找平衡点，既不委屈自己，也不忽视对方。你懂得用智慧化解分歧，是感情里的“调和剂”。<br><br><strong>适配模式：</strong>适合理性成熟、重视平等的伴侣，你们的感情会在健康的互动中稳步发展。"
            },
            {
                type: "趣味互动型",
                desc: "<strong>你的相处哲学：</strong>把感情过成“喜剧”，擅长用幽默化解尴尬。你认为爱情里不该太严肃，小打小闹反而能增进感情。<br><br><strong>适配模式：</strong>适合乐观开朗、有幽默感的伴侣，你们的感情会在欢声笑语中保持保鲜。"
            },
            {
                type: "成长共创型",
                desc: "<strong>你的相处哲学：</strong>视感情为共同成长的土壤，既独立又携手。你鼓励对方追求自我，也期待一起变成更好的人。<br><br><strong>适配模式：</strong>适合有目标感、不依附的伴侣，你们的感情会在互相成就中愈发牢固。"
            },
            {
                type: "细节关怀型",
                desc: "<strong>你的相处哲学：</strong>在细微处体现爱意，记得对方的喜好与习惯。你认为爱情藏在日常碎片里，不需要刻意的仪式感。<br><br><strong>适配模式：</strong>适合心思细腻、懂得珍惜的伴侣，你们的感情会在温暖的细节中慢慢沉淀。"
            }
        ];

        // 页面元素
        const homepage = document.getElementById("homepage");
        const startBtn = document.getElementById("start-btn");
        const questionsContainer = document.getElementById("questions-container");
        const prevBtn = document.getElementById("prev-btn");
        const nextBtn = document.getElementById("next-btn");
        const currentQuestionEl = document.getElementById("current-question");
        const progressEl = document.querySelector(".progress");
        const btnGroupEl = document.querySelector(".btn-group");
        const resultSection = document.getElementById("result-section");
        const resultTag = document.getElementById("result-tag");
        const resultContent = document.getElementById("result-content");
        const restartBtn = document.getElementById("restart-btn");

        let currentQuestionIndex = 0; // 当前题目索引
        let selectedAnswers = {}; // 存储答案 {questionId: scores}

        // 渲染题目
        function renderQuestions() {
            questions.forEach((question, index) => {
                const card = document.createElement("div");
                card.className = `question-card ${index === 0 ? 'active' : ''}`;
                card.dataset.index = index;
                card.innerHTML = `
                    <div class="question-text">${question.id}. ${question.text}</div>
                    <div class="options">
                        ${question.options.map((opt, optIdx) => `
                            <div class="option" data-qid="${question.id}" data-optidx="${optIdx}">
                                <input type="radio" name="q${question.id}" id="q${question.id}_${optIdx}">
                                ${opt.text}
                            </div>
                        `).join("")}
                    </div>
                `;
                questionsContainer.appendChild(card);

                // 选项点击事件
                card.querySelectorAll(".option").forEach(option => {
                    option.addEventListener("click", () => {
                        // 取消同题其他选项选中状态
                        card.querySelectorAll(".option").forEach(opt => opt.classList.remove("selected"));
                        // 选中当前选项
                        option.classList.add("selected");
                        // 存储答案
                        const qid = question.id;
                        const optIdx = parseInt(option.dataset.optidx);
                        selectedAnswers[qid] = question.options[optIdx].scores;
                        // 启用下一题按钮
                        nextBtn.disabled = false;
                    });
                });
            });
        }

        // 切换到测试页面
        function startTest() {
            homepage.style.display = "none";
            progressEl.style.display = "block";
            btnGroupEl.style.display = "flex";
            renderQuestions();
        }

        // 切换题目
        function goToQuestion(index) {
            // 隐藏当前题目
            document.querySelector(`.question-card.active`).classList.remove('active');
            // 显示目标题目
            document.querySelector(`.question-card[data-index="${index}"]`).classList.add('active');
            // 更新当前索引
            currentQuestionIndex = index;
            // 更新进度显示
            currentQuestionEl.textContent = `第${index + 1}题`;
            // 控制上一题按钮状态
            prevBtn.disabled = index === 0;
            // 控制下一题按钮状态
            const currentQid = questions[index].id;
            nextBtn.disabled = !selectedAnswers[currentQid];
            // 最后一题显示提交按钮
            nextBtn.textContent = index === questions.length - 1 ? "查看结果" : "下一题";
        }

        // 上一题
        prevBtn.addEventListener("click", () => {
            if (currentQuestionIndex > 0) {
                goToQuestion(currentQuestionIndex - 1);
            }
        });

        // 下一题/提交
        nextBtn.addEventListener("click", () => {
            if (currentQuestionIndex === questions.length - 1) {
                // 提交测试，显示结果
                showResult();
            } else {
                goToQuestion(currentQuestionIndex + 1);
            }
        });

        // 计算并显示结果
        function showResult() {
            // 汇总得分
            const totalScores = {};
            Object.values(selectedAnswers).forEach(scores => {
                Object.entries(scores).forEach(([key, val]) => {
                    totalScores[key] = (totalScores[key] || 0) + val;
                });
            });

            // 按得分排序，取前3个核心维度
            const topDimensions = Object.entries(totalScores)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 3)
                .map(item => item[0]);

            // 匹配结果类型
            const resultIndex = Math.floor(Math.random() * resultTypes.length);
            const result = resultTypes[resultIndex];

            // 显示结果
            resultTag.textContent = result.type;
            resultContent.innerHTML = result.desc;
            questionsContainer.style.display = "none";
            progressEl.style.display = "none";
            btnGroupEl.style.display = "none";
            resultSection.style.display = "block";
        }

        // 重新测试
        restartBtn.addEventListener("click", () => {
            // 重置状态
            currentQuestionIndex = 0;
            selectedAnswers = {};
            questionsContainer.innerHTML = "";
            resultSection.style.display = "none";
            // 显示首页
            homepage.style.display = "block";
        });

        // 开始测试按钮点击事件
        startBtn.addEventListener("click", startTest);
    </script>
</body>
</html>